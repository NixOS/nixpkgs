diff --git a/hy/importer.py b/hy/importer.py
index 0e59498..6d31004 100644
--- a/hy/importer.py
+++ b/hy/importer.py
@@ -467,9 +467,10 @@ else:
         if cfile is None:
             cfile = cache_from_source(filename)
 
-        f = tempfile.NamedTemporaryFile('wb', dir=os.path.split(cfile)[0],
-                                        delete=False)
+        f = None
         try:
+            f = tempfile.NamedTemporaryFile('wb', dir=os.path.split(cfile)[0],
+                                            delete=False)
             f.write('\0\0\0\0')
             f.write(struct.pack('<I', timestamp))
             f.write(marshal.dumps(codeobject))
@@ -489,7 +490,8 @@ else:
             os.rename(f.name, cfile)
         except OSError:
             try:
-                os.unlink(f.name)
+                if f is not None:
+                    os.unlink(f.name)
             except OSError:
                 pass
 

From 3086ce1f5aa0e142191e62e60bb0d4f36742c94e Mon Sep 17 00:00:00 2001
From: Uri Baghin <uri@canva.com>
Date: Sat, 8 May 2021 16:26:47 +1000
Subject: [PATCH] Upgrade arrow.

---
 b2/arg_parser.py | 2 +-
 requirements.txt | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/b2/arg_parser.py b/b2/arg_parser.py
index cdfa1da..11c9c2c 100644
--- a/b2/arg_parser.py
+++ b/b2/arg_parser.py
@@ -91,7 +91,7 @@ def parse_millis_from_float_timestamp(s):
     """
     Parse timestamp, e.g. 1367900664 or 1367900664.152
     """
-    return int(arrow.get(float(s)).format('XSSS'))
+    return int(arrow.get(float(s)).float_timestamp * 1000)
 
 
 def parse_range(s):
diff --git a/requirements.txt b/requirements.txt
index 3cc8006..354125f 100644
--- a/requirements.txt
+++ b/requirements.txt
@@ -1,4 +1,4 @@
-arrow>=0.8.0,<1.0.0
+arrow>=1.0.0,<2.0.0
 b2sdk>=1.7.0,<2.0.0
 docutils==0.16
 importlib-metadata>=2.1.1,<3.0.0; python_version <= '3.5'
-- 
2.31.1


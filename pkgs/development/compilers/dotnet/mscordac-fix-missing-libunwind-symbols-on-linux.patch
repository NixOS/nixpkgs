From 9ec09da8755f2888a2ae15c52e223953785bc146 Mon Sep 17 00:00:00 2001
From: David McFarland <corngood@gmail.com>
Date: Wed, 13 Aug 2025 16:03:41 -0300
Subject: [PATCH] mscordac: fix missing libunwind symbols on linux

---
 src/runtime/src/coreclr/dlls/mscordac/CMakeLists.txt | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

diff --git a/src/runtime/src/coreclr/dlls/mscordac/CMakeLists.txt b/src/runtime/src/coreclr/dlls/mscordac/CMakeLists.txt
index 71b69336e2e..dc3b79d6933 100644
--- a/src/runtime/src/coreclr/dlls/mscordac/CMakeLists.txt
+++ b/src/runtime/src/coreclr/dlls/mscordac/CMakeLists.txt
@@ -157,6 +157,12 @@ set(COREDAC_LIBRARIES
     ${END_LIBRARY_GROUP} # End group of libraries that have circular references
 )
 
+if(CLR_CMAKE_HOST_UNIX)
+    list(APPEND COREDAC_LIBRARIES
+        coreclrpal_dac
+    )
+endif(CLR_CMAKE_HOST_UNIX)
+
 if(CLR_CMAKE_HOST_WIN32)
     # mscordac.def should be generated before mscordaccore.dll is built
     add_dependencies(mscordaccore mscordaccore_def)
@@ -205,12 +211,6 @@ if(CLR_CMAKE_HOST_WIN32 AND CLR_CMAKE_TARGET_UNIX)
     )
 endif(CLR_CMAKE_HOST_WIN32 AND CLR_CMAKE_TARGET_UNIX)
 
-if(CLR_CMAKE_HOST_UNIX)
-    list(APPEND COREDAC_LIBRARIES
-        coreclrpal_dac
-    )
-endif(CLR_CMAKE_HOST_UNIX)
-
 target_link_libraries(mscordaccore PRIVATE ${COREDAC_LIBRARIES})
 
 esrp_sign(mscordaccore)
-- 
2.50.0


From d6e868b933b63fc047b541c0ab69e0df02a7bfed Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Jos=C3=A9=20Romildo=20Malaquias?= <malaquias@gmail.com>
Date: Fri, 12 Jun 2020 11:55:35 -0300
Subject: [PATCH] fix build paths

---
 src/frame/frame.cpp                                        | 2 +-
 src/frame/modules/datetime/timezone_dialog/timezone.cpp    | 2 +-
 src/frame/window/modules/network/connectionvpneditpage.cpp | 2 +-
 src/frame/window/modules/network/vpnpage.cpp               | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/frame/frame.cpp b/src/frame/frame.cpp
index 90d06f82a..7cdad0453 100644
--- a/src/frame/frame.cpp
+++ b/src/frame/frame.cpp
@@ -375,7 +375,7 @@ void Frame::keyPressEvent(QKeyEvent *e)
 #ifdef QT_DEBUG
     case Qt::Key_Escape:        qApp->quit();                               break;
 #endif
-    case Qt::Key_F1:            QProcess::startDetached("dman", QStringList("dde"));  break;
+    case Qt::Key_F1:            QProcess::startDetached("@dman@", QStringList("dde"));  break;
     default:;
     }
 }
diff --git a/src/frame/modules/datetime/timezone_dialog/timezone.cpp b/src/frame/modules/datetime/timezone_dialog/timezone.cpp
index 3dd4aade5..5f1b363da 100644
--- a/src/frame/modules/datetime/timezone_dialog/timezone.cpp
+++ b/src/frame/modules/datetime/timezone_dialog/timezone.cpp
@@ -46,7 +46,7 @@ namespace installer {
 namespace {
 
 // Absolute path to zone.tab file.
-const char kZoneTabFile[] = "/usr/share/zoneinfo/zone.tab";
+const char kZoneTabFile[] = "@tzdata@/share/zoneinfo/zone.tab";
 
 // Absolute path to backward timezone file.
 const char kTimezoneAliasFile[] = "/timezone_alias";
diff --git a/src/frame/window/modules/network/connectionvpneditpage.cpp b/src/frame/window/modules/network/connectionvpneditpage.cpp
index 6a287d629..7c0e45723 100644
--- a/src/frame/window/modules/network/connectionvpneditpage.cpp
+++ b/src/frame/window/modules/network/connectionvpneditpage.cpp
@@ -247,7 +247,7 @@ void ConnectionVpnEditPage::exportConnConfig()
     qDebug() << Q_FUNC_INFO << args;
 
     QProcess p;
-    p.start("nmcli", args);
+    p.start("@nmcli@", args);
     p.waitForFinished();
     qDebug() << p.readAllStandardOutput();
     qDebug() << p.readAllStandardError();
diff --git a/src/frame/window/modules/network/vpnpage.cpp b/src/frame/window/modules/network/vpnpage.cpp
index 1769e50dd..3aa3ccd16 100644
--- a/src/frame/window/modules/network/vpnpage.cpp
+++ b/src/frame/window/modules/network/vpnpage.cpp
@@ -336,7 +336,7 @@ void VpnPage::importVPN()
     qDebug() << args;
 
     QProcess p;
-    p.start("nmcli", args);
+    p.start("@nmcli@", args);
     p.waitForFinished();
     const auto stat = p.exitCode();
     const QString output = p.readAllStandardOutput();
-- 
2.26.2


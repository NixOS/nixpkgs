--- a/cmake/MacroCreateLibtoolFile.cmake
+++ b/cmake/MacroCreateLibtoolFile.cmake
@@ -9,7 +9,7 @@
 ENDMACRO (GET_TARGET_PROPERTY_WITH_DEFAULT)
 
 MACRO(CREATE_LIBTOOL_FILE _target _install_DIR)
-  GET_TARGET_PROPERTY(_target_location ${_target} LOCATION)
+
   GET_TARGET_PROPERTY_WITH_DEFAULT(_target_static_lib ${_target} STATIC_LIB "")
   GET_TARGET_PROPERTY_WITH_DEFAULT(_target_dependency_libs ${_target} LT_DEPENDENCY_LIBS "")
   GET_TARGET_PROPERTY_WITH_DEFAULT(_target_current ${_target} LT_VERSION_CURRENT 0)
@@ -19,8 +19,8 @@
   GET_TARGET_PROPERTY_WITH_DEFAULT(_target_shouldnotlink ${_target} LT_SHOULDNOTLINK yes)
   GET_TARGET_PROPERTY_WITH_DEFAULT(_target_dlopen ${_target} LT_DLOPEN "")
   GET_TARGET_PROPERTY_WITH_DEFAULT(_target_dlpreopen ${_target} LT_DLPREOPEN "")
-  GET_FILENAME_COMPONENT(_laname ${_target_location} NAME_WE)
-  GET_FILENAME_COMPONENT(_soname ${_target_location} NAME)
+  SET(_laname "lib${_target}")
+  SET(_soname "${_laname}${CMAKE_SHARED_LIBRARY_SUFFIX}")
   SET(_laname ${PROJECT_BINARY_DIR}/${_laname}.la)
   FILE(WRITE ${_laname} "# ${_laname} - a libtool library file\n")
   FILE(WRITE ${_laname} "# Generated by CMake ${CMAKE_VERSION} (like GNU libtool)\n")

# Sourced from https://bitbucket.org/heldercorreia/speedcrunch/pull-requests/140/commits

diff --git a/cmake/QtWin32Deploy.cmake b/cmake/QtWin32Deploy.cmake

--- a/cmake/QtWin32Deploy.cmake
+++ b/cmake/QtWin32Deploy.cmake
@@ -15,7 +15,7 @@ set(qtwin32_QMLPLUGIN_SUFFIX_DEBUG "plugin${qtwin32_DLL_SUFFIX_DEBUG}")
 
 # Determine the Qt minor version (so '6.4' or '6.5') for version checking. There's unlikely to be enough changes in
 # patch releases to make it worth distinguishing based on those.
-string(REGEX MATCH "[0-9]+[.][0-9]+" qtwin32_QT_MINOR_VERSION ${Qt6Core_VERSION_STRING})
+string(REGEX MATCH "[0-9]+[.][0-9]+" qtwin32_QT_MINOR_VERSION "${Qt6Core_VERSION}")
 
 
 # qtwin32_check_qt_version([STRICT] <version>...)
diff --git a/math/rational.h b/math/rational.h
--- a/math/rational.h
+++ b/math/rational.h
@@ -19,6 +19,8 @@
 #ifndef RATIONAL_H
 #define RATIONAL_H
 
+#include <QHash>
+
 class HNumber;
 class QString;
 
@@ -64,6 +66,10 @@ public:
     QString toString() const;
     HNumber toHNumber( )const;
     double toDouble() const;
+
+    friend size_t qHash(const Rational &r, size_t seed = 0) {
+        return qHashMulti(seed, r.m_num, r.m_denom, r.m_valid);
+    }
 };
 
 #endif // RATIONAL_H

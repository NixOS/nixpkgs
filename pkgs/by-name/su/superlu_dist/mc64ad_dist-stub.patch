mc64ad_dist.c was removed (DFSG nonfree), create stubs
--- /dev/null
+++ b/SRC/prec-independent/mc64ad_dist.c
@@ -0,0 +1,27 @@
+/* The original mc64ad_dist.c is nonfree and has been removed.
+   We provide a stub interface here instead.
+*/
+
+#include <stdio.h>
+#include <stdlib.h>
+
+#include "superlu_ddefs.h"
+
+/* only mc64id_dist and mc64ad_dist are referenced by SuperLU-Dist code */
+
+/* Subroutine */ int mc64id_dist(int *icntl)
+{
+    fprintf(stderr, "SuperLU-Dist: MC64 functionality not available.\n(It uses code under a non-free HSL licence which does not permit redistribution).\nAborting mc64id_dist.\n");
+    abort();
+    return 0;
+}
+
+int mc64ad_dist(int *job, int *n, int_t *ne, int_t *
+	ip, int_t *irn, double *a, int *num, int_t *cperm,
+	int_t *liw, int_t *iw, int_t *ldw, double *dw, int *
+	icntl, int *info)
+{
+    fprintf(stderr, "SuperLU-Dist: MC64 functionality not available.\n(It uses code under a non-free HSL licence which does not permit redistribution).\nAborting mc64ad_dist.\n");
+    abort();
+    return 0;
+}
--- a/SRC/prec-independent/util.c
+++ b/SRC/prec-independent/util.c
@@ -217,7 +217,7 @@ void set_default_options_dist(superlu_dist_options_t *options)
 #else
     options->ColPerm = MMD_AT_PLUS_A;
 #endif
-    options->RowPerm = LargeDiag_MC64;
+    options->RowPerm = NOROWPERM;
     options->ReplaceTinyPivot = NO;
     options->IterRefine = SLU_DOUBLE;
     options->Trans = NOTRANS;
commit 0c87201f64491575350b18d04c62ec142e119d1f
Author: Sebastian Pipping <sebastian@pipping.org>
Date:   Sat, 31 Dec 2011 19:17:20 +0000 (20:17 +0100)
Source: https://web.archive.org/web/20120128080247/http://git.goodpoint.de/?p=mpack.git;a=commitdiff;h=0c87201f64491575350b18d04c62ec142e119d1f

    Fix permissions

diff --git a/unixos.c b/unixos.c
index fa6d0a7..0e2f469 100644 (file)
--- a/unixos.c
+++ b/unixos.c
@@ -134,9 +134,9 @@ FILE *os_createnewfile(char *fname)
     FILE *ret;
      
 #ifdef O_EXCL
-    fd=open(fname, O_RDWR|O_CREAT|O_EXCL, 0644);
+    fd=open(fname, O_RDWR|O_CREAT|O_EXCL, 0600);
 #else
-    fd=open(fname, O_RDWR|O_CREAT|O_TRUNC, 0644);
+    fd=open(fname, O_RDWR|O_CREAT|O_TRUNC, 0600);
 #endif
 
     if (fd == -1)

# This file was generated by https://github.com/kamilchm/go2nix v1.2.1
{ stdenv, buildGoPackage, fetchgit, fetchhg, fetchbzr, fetchsvn, libjpeg }:

buildGoPackage rec {
  name = "compy-unstable-${version}";
  version = "2018-04-06";
  rev = "6760ec46a2993dcc69ea0264065b741d85e77268";

  goPackagePath = "github.com/barnacs/compy";
  buildInputs = [ libjpeg ];

  src = fetchgit {
    inherit rev;
    url = "https://github.com/barnacs/compy";
    sha256 = "0laqracjni6y8y6magciyhqfry4kc6n2m1c0i6ibrk43p055jrhi";
  };

  goDeps = ./deps.nix;

  meta = with stdenv.lib; {
    description = "HTTP/HTTPS compression proxy";
    longDescription = ''
      Compy is an HTTP/HTTPS forward proxy with content compression/transcoding capabilities.
      One use case is to reduce bandwidth usage when browsing on limited mobile broadband connection.
    '';
    homepage = https://github.com/barnacs/compy;
    license = licenses.isc;
    maintainers = with maintainers; [ gnidorah ];
    platforms = platforms.linux;
  };
}

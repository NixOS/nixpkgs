# This file was generated by https://github.com/kamilchm/go2nix v1.2.1
{ stdenv, buildGoPackage, fetchFromGitHub }:

buildGoPackage rec {
  version = "1.0.0";
  pname = "envdir";

  goPackagePath = "github.com/d10n/envdir";

  src = fetchFromGitHub {
    rev = "v${version}";
    owner = "d10n";
    repo = "envdir";
    sha256 = "1wdlblj127skgynf9amk7waabc3abbyxys9dvyc6c72zpcpdy5nc";
  };

  preBuild = ''
   # TODO: is there a way to get the commit ref so we can set main.buildCommit?
		buildFlagsArray+=("-ldflags" "-X main.buildDate=1970-01-01T00:00:00+0000 -X main.buildVersion=${version}")
'';

  meta = {
    description = "A go rewrite of envdir";
    homepage = "https://github.com/d10n/envdir";
    maintainers = with stdenv.lib.maintainers; [ edude03 ];
  };
}

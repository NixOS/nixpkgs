diff --git a/mm/compaction.c b/mm/compaction.c
# From: Suzuki K Poulose <suzuki.poulose@arm.com>
# https://lore.kernel.org/lkml/1558711908-15688-1-git-send-email-suzuki.poulose@arm.com/raw
index 444029da4..368445cc7 100644
--- a/mm/compaction.c
+++ b/mm/compaction.c
@@ -1397,7 +1397,7 @@ fast_isolate_freepages(struct compact_control *cc)
 				page = pfn_to_page(highest);
 				cc->free_pfn = highest;
 			} else {
-				if (cc->direct_compaction) {
+				if (cc->direct_compaction && pfn_valid(min_pfn)) {
 					page = pfn_to_page(min_pfn);
 					cc->free_pfn = min_pfn;
 				}

<refentry xmlns="http://docbook.org/ns/docbook"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          xmlns:xi="http://www.w3.org/2001/XInclude">
 <refmeta>
  <refentrytitle><command>nixos-option</command>
  </refentrytitle><manvolnum>8</manvolnum>
  <refmiscinfo class="source">NixOS</refmiscinfo>
<!-- <refmiscinfo class="version"><xi:include href="version.txt" parse="text"/></refmiscinfo> -->
 </refmeta>
 <refnamediv>
  <refname><command>nixos-option</command></refname>
  <refpurpose>inspect a NixOS configuration</refpurpose>
 </refnamediv>
 <refsynopsisdiv>
  <cmdsynopsis>
   <command>nixos-option</command>

   <arg>
    <group choice='req'>
     <arg choice='plain'><option>-r</option></arg>
     <arg choice='plain'><option>--recursive</option></arg>
    </group>
   </arg>

   <arg>
    <option>-I</option> <replaceable>path</replaceable>
   </arg>

   <arg>
    <replaceable>option.name</replaceable>
   </arg>
  </cmdsynopsis>
 </refsynopsisdiv>
 <refsection>
  <title>Description</title>
  <para>
   This command evaluates the configuration specified in
   <filename>/etc/nixos/configuration.nix</filename> and returns the properties
   of the option name given as argument.
  </para>
  <para>
   When the option name is not an option, the command prints the list of
   attributes contained in the attribute set.
  </para>
 </refsection>
 <refsection>
  <title>Options</title>
  <para>
   This command accepts the following options:
  </para>
  <variablelist>
   <varlistentry>
    <term><option>-r</option></term>
    <term><option>--recursive</option></term>
    <listitem>
     <para>
      Print all the values at or below the specified path recursively.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>
     <option>-I</option> <replaceable>path</replaceable>
    </term>
    <listitem>
     <para>
      This option is passed to the underlying
      <command>nix-instantiate</command> invocation.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsection>
 <refsection>
  <title>Environment</title>
  <variablelist>
   <varlistentry>
    <term>
     <envar>NIXOS_CONFIG</envar>
    </term>
    <listitem>
     <para>
      Path to the main NixOS configuration module. Defaults to
      <filename>/etc/nixos/configuration.nix</filename>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </refsection>
 <refsection>
  <title>Examples</title>
  <para>
   Investigate option values:
<screen><prompt>$ </prompt>nixos-option boot.loader
This attribute set contains:
generationsDir
grub
initScript

<prompt>$ </prompt>nixos-option boot.loader.grub.enable
Value:
true

Default:
true

Description:
Whether to enable the GNU GRUB boot loader.

Declared by:
  "/nix/var/nix/profiles/per-user/root/channels/nixos/nixpkgs/nixos/modules/system/boot/loader/grub/grub.nix"

Defined by:
  "/nix/var/nix/profiles/per-user/root/channels/nixos/nixpkgs/nixos/modules/system/boot/loader/grub/grub.nix"
</screen>
  </para>
 </refsection>
 <refsection>
  <title>Bugs</title>
  <para>
   The author listed in the following section is wrong. If there is any other
   bug, please report to Nicolas Pierron.
  </para>
 </refsection>
 <refsection>
  <title>See also</title>
  <para>
   <citerefentry>
    <refentrytitle>configuration.nix</refentrytitle>
    <manvolnum>5</manvolnum>
   </citerefentry>
  </para>
 </refsection>
</refentry>

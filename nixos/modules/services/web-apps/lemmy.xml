<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="module-services-lemmy">
  <title>Lemmy</title>
  <para>
    Lemmy is a federated alternative to reddit in rust.
  </para>
  <section xml:id="module-services-lemmy-quickstart">
    <title>Quickstart</title>
    <para>
      the minimum to start lemmy is
    </para>
    <programlisting language="bash">
services.lemmy = {
  enable = true;
  settings = {
    hostname = &quot;lemmy.union.rocks&quot;;
    database.createLocally = true;
  };
  jwtSecretPath = &quot;/run/secrets/lemmyJwt&quot;;
  caddy.enable = true;
}
</programlisting>
    <para>
      (note that you can use something like agenix to get your secret
      jwt to the specified path)
    </para>
    <para>
      this will start the backend on port 8536 and the frontend on port
      1234. It will expose your instance with a caddy reverse proxy to
      the hostname youâ€™ve provided. Postgres will be initialized on that
      same instance automatically.
    </para>
  </section>
  <section xml:id="module-services-lemmy-usage">
    <title>Usage</title>
    <para>
      On first connection you will be asked to define an admin user.
    </para>
  </section>
  <section xml:id="module-services-lemmy-missing">
    <title>Missing</title>
    <itemizedlist spacing="compact">
      <listitem>
        <para>
          Exposing with nginx is not implemented yet.
        </para>
      </listitem>
      <listitem>
        <para>
          This has been tested using a local database with a unix socket
          connection. Using different database settings will likely
          require modifications
        </para>
      </listitem>
    </itemizedlist>
  </section>
</chapter>
